!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("@delpi/common"),require("perfect-scrollbar")):"function"==typeof define&&define.amd?define(["exports","react","@delpi/common","perfect-scrollbar"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactNeoScrollbar={},e.React,e.common,e.PerfectScrollbar)}(this,function(e,t,n,o){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=r(t),i=r(o),a=function(){return a=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)};function c(e,t,n,o){return new(n||(n=Promise))(function(r,l){function i(e){try{c(o.next(e))}catch(e){l(e)}}function a(e){try{c(o.throw(e))}catch(e){l(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}c((o=o.apply(e,t||[])).next())})}function u(e,t){var n,o,r,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(l=0)),l;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,o=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(r=l.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){l.label=a[1];break}if(6===a[0]&&l.label<r[1]){l.label=r[1],r=a;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(a);break}r[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}"function"==typeof SuppressedError&&SuppressedError;var s=function(e,t,n,o){if(void 0===o&&(o=.95),!t.raf){var r=function(){var l=t.vx,i=t.vy;if(Math.abs(l)<.1&&Math.abs(i)<.1)return t.raf=null,void(null==n||n.forEach(function(t){var n;return null===(n=t.onScrollStop)||void 0===n?void 0:n.call(t,e)}));e.scrollLeft+=Math.sign(l)*Math.min(Math.abs(l),50),e.scrollTop+=Math.sign(i)*Math.min(Math.abs(i),50),t.vx*=o,t.vy*=o,null==n||n.forEach(function(t){var n;return null===(n=t.onScroll)||void 0===n?void 0:n.call(t,e)}),t.raf=requestAnimationFrame(r)};null==n||n.forEach(function(t){var n;return null===(n=t.onScrollStart)||void 0===n?void 0:n.call(t,e)}),t.raf=requestAnimationFrame(r)}},d=new WeakMap,f=function(e){return.5-Math.cos(e*Math.PI)/2},v=function(e,t,n){var o="y"===t?"ps--scrolling-y":"ps--scrolling-x";n?e.classList.add(o):e.classList.remove(o)},p=function(e,t,n){if(void 0===n&&(n={}),e){var o=n.duration,r=void 0===o?300:o,l=n.easing,i=void 0===l?f:l;d.has(e)&&(cancelAnimationFrame(d.get(e)),d.delete(e));var a=e.scrollTop,c=t-a;if(0!==c){var u=performance.now();v(e,"y",!0);var s=function(n){var o=n-u,l=Math.min(o/r,1),f=Math.max(0,Math.min(1,i(l)));if(l>0&&(e.scrollTop=a+c*f),l<1){var p=requestAnimationFrame(s);d.set(e,p)}else d.delete(e),e.scrollTop=t,v(e,"y",!1)},p=requestAnimationFrame(s);d.set(e,p)}else e.scrollTop=t}},h=function(e,t,n){if(void 0===n&&(n={}),e){var o=n.duration,r=void 0===o?300:o,l=n.easing,i=void 0===l?f:l;d.has(e)&&(cancelAnimationFrame(d.get(e)),d.delete(e));var a=e.scrollLeft,c=t-a;if(0!==c){var u=performance.now();v(e,"x",!0);var s=function(n){var o=n-u,l=Math.min(o/r,1),f=Math.max(0,Math.min(1,i(l)));if(l>0&&(e.scrollLeft=a+c*f),l<1){var p=requestAnimationFrame(s);d.set(e,p)}else d.delete(e),e.scrollLeft=t,v(e,"x",!1)},p=requestAnimationFrame(s);d.set(e,p)}else e.scrollLeft=t}},m=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];null==e||e.forEach(function(e){var o=e[t];o&&o.apply(void 0,n)})},y=function(e,t,n,o,r,l,i){void 0===r&&(r=!1),void 0===l&&(l=.95);var a=function(){var t;return null===(t=e.current)||void 0===t?void 0:t.element},c=null,u=function(){o&&(o.vx=0,o.vy=0)},d=function(e,c,d,f,v){void 0===d&&(d=null!=t?t:300),void 0===f&&(f=null!=n?n:function(e){return e}),void 0===v&&(v=!1);var y=a();y&&o&&(v?(void 0!==e&&(o.vx=e-y.scrollLeft),void 0!==c&&(o.vy=c-y.scrollTop)):u(),void 0!==e&&h(y,e,{duration:d,easing:f}),void 0!==c&&p(y,c,{duration:d,easing:f}),m(i,"onScroll",y),r&&v&&s(y,o,i,l),void 0!==c&&(c<=0&&m(i,"onReachTop"),c+y.clientHeight>=y.scrollHeight&&m(i,"onReachBottom"),c+y.clientHeight>=.9*y.scrollHeight&&m(i,"onReachThreshold",90)),void 0!==e&&(e<=0&&m(i,"onReachLeft"),e+y.clientWidth>=y.scrollWidth&&m(i,"onReachRight")))},f={update:function(){var t;return null===(t=e.current)||void 0===t?void 0:t.update()},destroy:function(){var t;null===(t=e.current)||void 0===t||t.destroy(),m(i,"onDestroy"),c&&a()&&a().removeEventListener("scroll",c),u()},getScrollbar:function(){var t;return null!==(t=e.current)&&void 0!==t?t:null},getScrollElement:function(){var e;return null!==(e=a())&&void 0!==e?e:null},resetMomentum:u,scrollToX:function(e,t,n){return d(e,void 0,t,n)},scrollToY:function(e,t,n){return d(void 0,e,t,n)},scrollToTop:function(e,t){return d(void 0,0,e,t)},scrollToBottom:function(e,t){var n=a();n&&d(void 0,n.scrollHeight,e,t)},scrollToLeft:function(e,t){return d(0,void 0,e,t)},scrollToRight:function(e,t){var n=a();n&&d(n.scrollWidth,void 0,e,t)},scrollToIndex:function(e,t,n){var o=a();if(o){var r=o.children[e];r&&d(void 0,r.offsetTop,t,n)}},scrollToElement:function(e,t,n){a()&&e&&d(void 0,e.offsetTop,t,n)},scrollToPercent:function(e,o,r,l){void 0===r&&(r=null!=t?t:500),void 0===l&&(l=null!=n?n:function(e){return e});var i=a();if(i){var c=void 0!==e?(i.scrollHeight-i.clientHeight)*e:void 0,u=void 0!==o?(i.scrollWidth-i.clientWidth)*o:void 0;d(u,c,r,l)}}},v=a();return v&&(m(i,"onInit",f,v),c=function(){m(i,"onScroll",v)},v.addEventListener("scroll",c)),f},g={"ps-scroll-y":"onScrollY","ps-scroll-x":"onScrollX","ps-scroll-up":"onScrollUp","ps-scroll-down":"onScrollDown","ps-scroll-left":"onScrollLeft","ps-scroll-right":"onScrollRight","ps-y-reach-start":"onYReachStart","ps-y-reach-end":"onYReachEnd","ps-x-reach-start":"onXReachStart","ps-x-reach-end":"onXReachEnd"},b=function(e){var t=e.height,n=e.maxHeight,o=e.width,r=e.maxWidth,l=function(e){return void 0===e?void 0:"number"==typeof e?"".concat(e,"px"):e};return a(a(a(a({},t?{height:l(t)}:{}),n?{maxHeight:l(n)}:{}),o?{width:l(o)}:{}),r?{maxWidth:l(r)}:{})},S=function(e,t){var n={};return t?(Object.entries(g).forEach(function(o){var r=o[0],l=o[1],i=e[l];i&&(n[r]=function(e){return i(e)},t.addEventListener(r,n[r]))}),n):n},E=function(e,t){void 0===e&&(e={}),Object.entries(e).forEach(function(e){var n=e[0],o=e[1];t.removeEventListener(n,o)})},T=function(e,t,n){var o;if(!e.current)return{el:null};if(n){var r=e.current.querySelector("table"),l=null!==(o=null==r?void 0:r.querySelector("tbody"))&&void 0!==o?o:null;if(l)return Object.entries(t).forEach(function(e){var t=e[0],n=e[1];l.style[t]=n}),{table:null!=r?r:void 0,el:l}}return{el:e.current}};function w(e,n){var o,r=e.options,l=e.always,c=e.wheelStop,u=e.injectTable,d=e.effectData,f=e.autoScrollBottom,v=e.autoScrollToNewItem,h=e.preserveScroll,m=e.scrollSaveKey,g=e.disableKeyboard,w=e.scrollDuration,x=e.scrollEasing,L=e.plugins,H=void 0===L?[]:L,R=e.inertia,A=void 0===R||R,M=e.inertiaFriction,I=e.scrollLock,P=e.onScroll,k=e.onScrollStart,F=e.onScrollStop,D=e.onScrollDirectionChange,q=e.onUserScroll,C=e.onReachTop,j=e.onReachBottom,O=e.onReachLeft,z=e.onReachRight,N=e.onReachStart,Y=e.onReachEnd,W=e.onReachThreshold,B=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(e,["options","always","wheelStop","injectTable","effectData","autoScrollBottom","autoScrollToNewItem","preserveScroll","scrollSaveKey","disableKeyboard","scrollDuration","scrollEasing","plugins","inertia","inertiaFriction","scrollLock","onScroll","onScrollStart","onScrollStop","onScrollDirectionChange","onUserScroll","onReachTop","onReachBottom","onReachLeft","onReachRight","onReachStart","onReachEnd","onReachThreshold"]),U=t.useRef(null),X=t.useRef(null),K=t.useRef({x:0,y:0}),_=t.useRef(null),G=t.useRef({x:0,y:0}),J=t.useRef({vx:0,vy:0,raf:null}),V=t.useRef(null),Q=t.useState(!1),Z=Q[0],$=Q[1],ee=b(B),te=null!==(o=null==r?void 0:r.wheelPropagation)&&void 0!==o?o:c;return t.useEffect(function(){if(X.current){var e=T(X,ee,u),t=e.table,o=e.el,c=a(a({},r||{}),{wheelPropagation:te});t&&(U.current=o,c.suppressScrollX=!0,t.classList.add("list-dk-scroll-view","perfect-table"),l&&(null==o||o.classList.add("scroll-always")),te&&(null==o||o.classList.add("scroll-wheel-stop"))),V.current=new i.default(o,c),I&&o&&(o.style.overflow="hidden");var d=S(B,o);if(m){var v=sessionStorage.getItem(m);if(v){var p=JSON.parse(v),b=p.x,L=p.y;o.scrollTop=L,o.scrollLeft=b}}h&&(o.scrollTop=K.current.y,o.scrollLeft=K.current.x),f&&(o.scrollTop=o.scrollHeight);var R=function(e){if(g){["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"," "].includes(e.key)&&e.preventDefault()}};g&&window.addEventListener("keydown",R);var Q={x:0,y:0},Z=function(e){var t=o,n=t.scrollLeft,r=t.scrollTop,l="wheel"===e.type||"touchmove"===e.type;null==P||P({x:n,y:r}),A&&l&&(J.current.vx=n-G.current.x,J.current.vy=r-G.current.y,s(t,J.current,H,M)),k&&(_.current?clearTimeout(_.current):k()),F&&(_.current&&clearTimeout(_.current),_.current=window.setTimeout(function(){_.current=null,F()},150)),n-Q.x===0&&r-Q.y===0||!D||(D({x:n-Q.x,y:r-Q.y}),Q={x:n,y:r}),null==q||q({x:n,y:r});var i=.9*t.scrollHeight;if(W&&r+t.clientHeight>=i&&W(90),j&&r+t.clientHeight>=t.scrollHeight&&j(),C&&r<=0&&C(),Y&&r+t.clientHeight>=t.scrollHeight&&Y(),N&&r<=0&&N(),z&&n+t.clientWidth>=t.scrollWidth&&z(),O&&n<=0&&O(),G.current={x:n,y:r},A&&o){var a=J.current,c=a.vx,u=a.vy;(Math.abs(c)>.1||Math.abs(u)>.1)&&requestAnimationFrame(function(){o.scrollLeft+=c,o.scrollTop+=u,J.current.vx*=null!=M?M:.95,J.current.vy*=null!=M?M:.95})}};o.addEventListener("scroll",Z),n&&(n.current=y(V,w,x,J.current,A,M,H));var $=new ResizeObserver(function(){var e;return null===(e=V.current)||void 0===e?void 0:e.update()});return $.observe(o),window.addEventListener("resize",function(){var e;return null===(e=V.current)||void 0===e?void 0:e.update()}),function(){var e;if(h&&V.current){var t=V.current.element;K.current={x:t.scrollLeft,y:t.scrollTop}}E(d,o),o.removeEventListener("scroll",Z),$.disconnect(),window.removeEventListener("resize",function(){var e;return null===(e=V.current)||void 0===e?void 0:e.update()}),g&&window.removeEventListener("keydown",R),null===(e=V.current)||void 0===e||e.destroy(),J.current.raf&&cancelAnimationFrame(J.current.raf)}}},[X.current,d]),t.useEffect(function(){if(V.current&&X.current){var e=V.current.element;V.current.update(),v&&p(e,e.scrollHeight,{duration:w,easing:x})}},[d,e.children]),{refsTarget:X,hovering:Z,setHovering:$,dimension:ee,getApi:function(){return y(V,w,x,J.current,A,M,H)},plugins:H}}var x=t.forwardRef(function(e,o){var r,i,c=w(e,o&&"function"!=typeof o?o:void 0),u=c.refsTarget,s=c.hovering,d=c.setHovering,f=c.dimension,v=c.getApi,p=c.plugins;t.useImperativeHandle(o,v);var h=n.HtmlUtils.joinClass("list-dk-scroll-view","perfect-list",e.className,e.autoHide&&!s?"scroll-hidden":void 0),m=n.HtmlUtils.joinClass("scroll-content",{"scroll-always":e.always},{"scroll-wheel-stop":null!==(i=null===(r=e.options)||void 0===r?void 0:r.wheelPropagation)&&void 0!==i?i:e.wheelStop}),y=function(e){return null==p?void 0:p.map(function(t,n){var o;return(null!==(o=t.mountPosition)&&void 0!==o?o:"outside")===e&&t.render&&l.default.createElement("div",{key:n,className:"scrollbar-plugin ".concat(e)},t.render())})};return l.default.createElement("div",{id:e.id,className:h,style:a(a({},e.style),e.injectTable?{}:f),onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)}},y("before"),l.default.createElement("div",{ref:u,className:m},e.children,y("inside")),y("outside"))});x.displayName="Scrollbar";var L=function(e){var t=e.state,n=e.loading,o=e.done;return"loading"===t?l.default.createElement("div",{className:"ps-scrollbar-ptr-loader"},n):"done"===t?l.default.createElement("div",{className:"ps-scrollbar-ptr-done"},o):l.default.createElement("div",{className:"ps-scrollbar-ptr-placeholder"})};e.PullToRefresh=L,e.animateScrollTo=p,e.animateScrollToBottom=function(e,t){if(void 0===t&&(t={}),e){var n=e.scrollHeight-e.clientHeight;p(e,n,t)}},e.animateScrollToTop=function(e,t){void 0===t&&(t={}),e&&p(e,0,t)},e.animateScrollToX=h,e.appendDimension=b,e.appendEventListener=S,e.bounceEffectPlugin=function(e){var t=void 0===e?{}:e,n=t.distance,o=void 0===n?80:n,r=t.duration,l=void 0===r?400:r,i=t.borderColor,a=void 0===i?"#40a9ff":i,c=t.borderWidth,u=void 0===c?1.5:c,s=t.borderDuration,d=void 0===s?250:s,f=null,v=null,p=0,h=!1,m=function(){if(f){p*=.8;var e=f.scrollHeight-f.clientHeight,t=p;f.scrollTop+p>e&&(t=e-f.scrollTop),f.scrollTop+p<0&&(t=-f.scrollTop),f.style.transform="translateY(".concat(t,"px)"),!h&&Math.abs(p)>0&&(f.style.border="".concat(u,"px solid ").concat(a),h=!0),Math.abs(p)>1?v=requestAnimationFrame(m):(f.style.transition="transform ".concat(l,"ms ease-out, border ").concat(d,"ms"),f.style.transform="translateY(0)",setTimeout(function(){f&&(f.style.transform="",f.style.transition="",f.style.border="",h=!1)},Math.max(l,d)),v=null,p=0)}};return{onInit:function(e,t){(f=t.firstElementChild)||console.warn("bounce plugin: wrapper not found")},onScroll:function(e){if(f){var t=e.scrollTop,n=f.scrollHeight,r=f.clientHeight,l=t-parseFloat(e.dataset.lastScroll||"0");t<=0&&l<0?p=Math.max(l,-o):t+r>=n&&l>0&&(p=Math.min(l,o)),0===p||v||m(),e.dataset.lastScroll=t.toString()}},onDestroy:function(){v&&cancelAnimationFrame(v),f&&(f.style.transform="",f.style.border=""),f=null,v=null,p=0,h=!1}}},e.bounceHighlightPlugin=function(e){var t=void 0===e?{}:e,n=t.distance,o=void 0===n?20:n,r=t.duration,l=void 0===r?300:r,i=null,a=null,c=0,u=function(e){if(i){var t=performance.now(),n=function(o){var r=Math.min((o-t)/l,1),c=Math.sin(r*Math.PI/2);i.style.transform="translateY(".concat(e*(1-c),"px)"),r<1?a=requestAnimationFrame(n):(i.style.transform="",a=null)};a=requestAnimationFrame(n)}};return{onInit:function(e,t){(i=t.firstElementChild)||console.warn("bounce plugin: wrapper not found"),c=t.scrollTop},onScroll:function(e){if(i){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight,l=t-c;t<=0&&l<0?u(o):t+r>=n&&l>0&&u(-o),c=t}},onDestroy:function(){a&&cancelAnimationFrame(a),i&&(i.style.transform=""),i=null,a=null}}},e.calculatorRealSize=function(e){return void 0===e&&(e=[]),e.reduce(function(e,t){return e+t.clientHeight},0)},e.callPlugins=m,e.clearEventListener=E,e.createScrollbarApi=y,e.default=x,e.find1stLevel=function(e,t,o){var r=(null!=o?o:n.HtmlUtils.findFirstLevel(e,t)).filter(n.HtmlUtils.isVisible);return r.length?r[r.length-1]:null},e.findTargetTable=T,e.gradientIndicatorPlugin=function(e){var t=void 0===e?{}:e,n=t.gradientSize,o=void 0===n?30:n,r=t.gradientColor,l=void 0===r?"rgba(0,0,0,0.1)":r,i=t.zIndex,a=void 0===i?1e3:i,c=null,u=null,s=null,d=null,f=function(){if(c&&u&&s){var e=c.scrollTop,t=c.scrollHeight,n=c.clientHeight;u.style.opacity=e>0?"1":"0";var r=t-(e+n);s.style.opacity=r>1?"1":"0",s.style.top="".concat(e+n-o,"px"),d=null}};return{onInit:function(e,t){(c=t).style.position&&"static"!==c.style.position||(c.style.position="relative"),u=t.querySelector("[data-gradient-top]"),s=t.querySelector("[data-gradient-bottom]"),u||((u=document.createElement("div")).setAttribute("data-gradient-top","true"),Object.assign(u.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"".concat(o,"px"),background:"linear-gradient(to bottom, ".concat(l,", transparent)"),pointerEvents:"none",transition:"opacity 0.3s",zIndex:a.toString()}),t.appendChild(u)),s||((s=document.createElement("div")).setAttribute("data-gradient-bottom","true"),Object.assign(s.style,{position:"absolute",left:"0",width:"100%",height:"".concat(o,"px"),background:"linear-gradient(to top, ".concat(l,", transparent)"),pointerEvents:"none",transition:"opacity 0.3s",zIndex:a.toString()}),t.appendChild(s)),f()},onScroll:function(){null===d&&(d=requestAnimationFrame(f))},onDestroy:function(){u&&u.remove(),s&&s.remove(),c=null,u=null,s=null,d&&cancelAnimationFrame(d),d=null}}},e.highlightItemPlugin=function(e){var t=void 0===e?{}:e,n=t.itemSelector,o=void 0===n?"li":n,r=t.highlightClass,l=void 0===r?"ps-scroll-highlight":r,i=null,a=null,c=null,u=function(){if(i){var e=i.scrollTop+i.clientHeight/2,t=Array.from(i.querySelectorAll(o));if(t.length){for(var n=t[0],r=Math.abs(t[0].offsetTop-e),c=0,u=t;c<u.length;c++){var s=u[c],d=Math.abs(s.offsetTop-e);d<r&&(r=d,n=s)}a&&a.classList.remove(l),n.classList.add(l),a=n}}};return{onInit:function(e,t){i=t,u()},onScroll:function(){c&&cancelAnimationFrame(c),c=requestAnimationFrame(u)},onDestroy:function(){a&&a.classList.remove(l),i=null,a=null,c&&cancelAnimationFrame(c),c=null}}},e.inertiaPlugin=function(e){var t=void 0===e?{}:e,n=t.momentumRef,o=void 0===n?{vx:0,vy:0,raf:null}:n,r=t.friction,l=void 0===r?.95:r,i=null,a=function(e){o&&(Math.abs(o.vx)<.1&&Math.abs(o.vy)<.1?o.raf=null:(e.scrollLeft+=o.vx,e.scrollTop+=o.vy,o.vx*=l,o.vy*=l,o.raf=requestAnimationFrame(function(){return a(e)})))};return{onInit:function(e,t){o.raf||(i=requestAnimationFrame(function(){return a(t)}))},onScroll:function(e){var t,n,r=e.scrollLeft-(null!==(t=o.vx)&&void 0!==t?t:0),l=e.scrollTop-(null!==(n=o.vy)&&void 0!==n?n:0);o.vx=r,o.vy=l},onDestroy:function(){i&&cancelAnimationFrame(i)}}},e.loadMorePlugin=function(e){var n=e.threshold,o=void 0===n?60:n,r=e.onLoadMore,i=e.onCompleted,a=e.loading,s=void 0===a?l.default.createElement(l.default.Fragment,null,"Loading..."):a,d=e.done,f=void 0===d?l.default.createElement(l.default.Fragment,null,"Done!"):d,v=e.completed,p=void 0===v?l.default.createElement(l.default.Fragment,null,"No more data"):v,h=e.doneDelay,m=void 0===h?1e3:h,y=e.lockWhileLoading,g=void 0!==y&&y,b=e.onError,S=null,E=!1,T=!1,w=null,x=null;function L(){var e=t.useState("idle"),n=e[0],o=e[1];return t.useEffect(function(){return w=o,function(){w=null}},[]),"loading"===n?l.default.createElement("div",{className:"ps-scrollbar-loadmore-loader"},s):"done"===n?l.default.createElement("div",{className:"ps-scrollbar-loadmore-done"},f):"completed"===n?l.default.createElement("div",{className:"ps-scrollbar-loadmore-completed"},p):null}return{mountPosition:"inside",render:function(){return l.default.createElement(L,null)},onInit:function(e,t){S=t},onScroll:function(){return c(this,void 0,void 0,function(){var e,t,n,l,a;return u(this,function(c){switch(c.label){case 0:if(!S||E||T)return[2];if(e=S.scrollTop,t=S.scrollHeight,n=S.clientHeight,!(o<1?e+n>=t*o:e+n>=t-o))return[2];E=!0,null==w||w("loading"),g&&(S.style.pointerEvents="none"),c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,r()];case 2:return void 0===(l=c.sent())&&(l=!0),l?(null==w||w("done"),x&&clearTimeout(x),x=window.setTimeout(function(){null==w||w("idle"),x=null},m)):(T=!0,null==w||w("completed"),null==i||i()),[3,5];case 3:return a=c.sent(),null==b||b(a),null==w||w("idle"),[3,5];case 4:return g&&(S.style.pointerEvents=""),E=!1,[7];case 5:return[2]}})})},onDestroy:function(){S=null,E=!1,T=!1,w=null,x&&(clearTimeout(x),x=null)}}},e.psHtmlListSize=function(e,t){return Array.from(e).filter(function(e){return!t.includes(e)})},e.pullToRefreshPlugin=function(e){var n,o=e.threshold,r=void 0===o?60:o,i=e.onRefresh,a=e.loading,s=void 0===a?l.default.createElement(l.default.Fragment,null,"🔄 Loading..."):a,d=e.done,f=void 0===d?l.default.createElement(l.default.Fragment,null,"✅ Done!"):d,v=e.doneDuration,p=void 0===v?500:v,h=e.lockScrollWhileLoading,m=void 0===h||h,y=null,g=null,b=null,S=null,E=null,T=!1,w=!1,x=null,H=0,R=0,A="number"==typeof r?r:60,M=null,I=function(){g&&(g.style.transition="transform 0.3s",g.style.transform="translateY(0px)",setTimeout(function(){g&&(g.style.transition="")},300)),R=0,null==n||n("idle")},P=function(e,t){y&&!T&&(y.scrollTop>0||(w=!0,H=e,"number"==typeof t&&(x=t)))},k=function(e,t){if(w&&y&&g&&!T){var n=e-H;if(n<=0)R>0&&I();else{if(t&&"preventDefault"in t)try{t.preventDefault()}catch(e){}R=Math.min(.5*n,2*A),g.style.transform="translateY(".concat(R,"px)")}}},F=function(){return c(void 0,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:if(!w||!y||!g)return w=!1,x=null,[2];if(w=!1,x=null,!(R>=A)||T)return[3,6];T=!0,m&&(E=y.style.pointerEvents||null,y.style.pointerEvents="none"),g.style.transition="transform 0.3s",g.style.transform="translateY(".concat(A,"px)"),null==n||n("loading"),e.label=1;case 1:return e.trys.push([1,3,4,5]),[4,i()];case 2:return e.sent(),null==n||n("done"),[3,5];case 3:return e.sent(),null==n||n("idle"),[3,5];case 4:return M&&clearTimeout(M),M=window.setTimeout(function(){I(),m&&y&&(y.style.pointerEvents=null!==E?E:""),T=!1,M=null},p),[7];case 5:return[3,7];case 6:I(),e.label=7;case 7:return[2]}})})},D=function(e){if(!T&&y&&!(y.scrollTop>0)){P(e.clientY,e.pointerId);try{y.setPointerCapture(e.pointerId)}catch(e){}}},q=function(e){w&&(null!=x&&e.pointerId!==x||k(e.clientY,e))},C=function(e){if(null!=x)try{null==y||y.releasePointerCapture(x)}catch(e){}F()},j=function(e){if(null!=x)try{null==y||y.releasePointerCapture(x)}catch(e){}w=!1,x=null,I()},O=function(e){!e.touches||e.touches.length>1||!y||T||y.scrollTop>0||P(e.touches[0].clientY)},z=function(e){w&&k(e.touches[0].clientY,e)},N=function(){return F()},Y=function(e){0===e.button&&(!y||T||y.scrollTop>0||(P(e.clientY),document.addEventListener("selectstart",U)))},W=function(e){w&&k(e.clientY,e)},B=function(){document.removeEventListener("selectstart",U),F()},U=function(e){return e.preventDefault()},X=function(){var e=t.useState("idle"),o=e[0],r=e[1];return t.useEffect(function(){return n=r,function(){n=void 0}},[]),l.default.createElement("div",{className:"ps-scrollbar-ptr",style:{position:"absolute",top:0,left:0,right:0,height:"60px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10}},l.default.createElement(L,{state:o,loading:s,done:f}))};return{mountPosition:"before",render:function(){return l.default.createElement(X,null)},onInit:function(e,t){y=t,g=t.querySelector(".ps__content")||t.firstElementChild||null;var n=window.getComputedStyle(y).position;b=y.style.position||null,["relative","absolute","fixed"].includes(n)||(y.style.position="relative"),S=y.style.overscrollBehavior||"",y.style.overscrollBehavior="contain",y.style.touchAction="pan-y",g&&(g.style.willChange="transform"),A=r<1?Math.max(30,Math.round(y.clientHeight*r)):r,y.style.setProperty("--ps-ptr-threshold","".concat(A,"px")),y.addEventListener("pointerdown",D),y.addEventListener("pointermove",q),y.addEventListener("pointerup",C),y.addEventListener("pointercancel",j),y.addEventListener("touchstart",O,{passive:!1}),y.addEventListener("touchmove",z,{passive:!1}),y.addEventListener("touchend",N),y.addEventListener("mousedown",Y),document.addEventListener("mousemove",W),document.addEventListener("mouseup",B)},onScroll:function(){!T&&y&&y.scrollTop>0&&R>0&&I()},onDestroy:function(){y&&(y.removeEventListener("pointerdown",D),y.removeEventListener("pointermove",q),y.removeEventListener("pointerup",C),y.removeEventListener("pointercancel",j),y.removeEventListener("touchstart",O),y.removeEventListener("touchmove",z),y.removeEventListener("touchend",N),y.removeEventListener("mousedown",Y),document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",B),document.removeEventListener("selectstart",U),g&&(g.style.transform="",g.style.transition="",g.style.willChange=""),y&&(null!==b&&(y.style.position=b),y.style.overscrollBehavior=null!==S?S:"",y.style.removeProperty("--ps-ptr-threshold"),y.style.touchAction="",null!==E&&(y.style.pointerEvents=E),y=null),M&&(clearTimeout(M),M=null),T=!1,w=!1,x=null,H=0,R=0,n=void 0)}}},e.scrollSpyPlugin=function(e){var t=void 0===e?{}:e,n=t.threshold,o=void 0===n?.9:n,r=t.callbacks,l=void 0===r?{}:r;return{onScroll:function(e){var t,n;e.scrollTop<=0&&(null===(t=null==l?void 0:l.onTop)||void 0===t||t.call(l)),(o<1?e.scrollTop+e.clientHeight>=e.scrollHeight*o:e.scrollTop+e.clientHeight>=e.scrollHeight-o)&&(null===(n=null==l?void 0:l.onBottom)||void 0===n||n.call(l))}}},e.snapToItemPlugin=function(e){var t=void 0===e?{}:e,n=t.itemSelector,o=void 0===n?"div":n,r=t.snapDelay,l=void 0===r?100:r,i=null;return{onScroll:function(e){i&&clearTimeout(i),i=window.setTimeout(function(){!function(e){var t=Array.from(e.querySelectorAll(o));if(t.length){var n=e.scrollTop,r=t.reduce(function(e,t){return Math.abs(t.offsetTop-n)<Math.abs(e.offsetTop-n)?t:e});r&&p(e,r.offsetTop,{duration:200})}}(e)},l)},onDestroy:function(){i&&clearTimeout(i)}}},e.startMomentumScroll=s,e.stickyColumnsPlugin=function(e){var t=void 0===e?{}:e,n=t.leftColumns,o=void 0===n?0:n,r=t.rightColumns,l=void 0===r?0:r,i=t.zIndex,a=void 0===i?10:i,c=t.background,u=void 0===c?"#fff":c,s=null;return{onInit:function(e,t){s=t.querySelector("table"),function(){if(s){for(var e=Array.from(s.querySelectorAll("thead th")),t=Array.from(s.querySelectorAll("tbody tr")),n=e.map(function(e){return e.getBoundingClientRect().width}),r=function(o){var r=e[o],l=n.slice(0,o).reduce(function(e,t){return e+t},0);r.style.position="sticky",r.style.left=l+"px",r.style.zIndex=a.toString(),r.style.background=u,t.forEach(function(e){var t=e.children[o];t.style.position="sticky",t.style.left=l+"px",t.style.zIndex=(a-1).toString(),t.style.background=u})},i=0;i<o;i++)r(i);var c=function(o){var r=e.length-1-o,l=e[r],i=n.slice(r+1).reduce(function(e,t){return e+t},0);l.style.position="sticky",l.style.right=i+"px",l.style.zIndex=a.toString(),l.style.background=u,t.forEach(function(e){var t=e.children[r];t.style.position="sticky",t.style.right=i+"px",t.style.zIndex=(a-1).toString(),t.style.background=u})};for(i=0;i<l;i++)c(i)}}()},onDestroy:function(){s&&(Array.from(s.querySelectorAll("th, td")).forEach(function(e){e.style.position="",e.style.left="",e.style.right="",e.style.zIndex="",e.style.background=""}),s=null)}}},e.stickyHeaderPlugin=function(e){var t=void 0===e?{}:e,n=t.zIndex,o=void 0===n?10:n,r=t.background,l=void 0===r?"#fff":r,i=null;return{onInit:function(e,t){(i=t.querySelector("thead"))&&(i.style.position="sticky",i.style.top="0",i.style.zIndex=o.toString(),i.style.background=l)},onDestroy:function(){i&&(i.style.position="",i.style.top="",i.style.zIndex="",i.style.background=""),i=null}}},e.useScrollbarCore=w,Object.defineProperty(e,"__esModule",{value:!0})});
